<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Budget Tracker | Personal Finance Manager</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Basic reset for development */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; }
        
        /* Development helper - will remove later */
        section { border: 1px dashed #ccc; margin: 10px; padding: 15px; }
        [data-component]::before { 
            content: attr(data-component); 
            background: #eee; 
            padding: 2px 5px; 
            font-size: 0.8em; 
            color: #666; 
        }
    </style>
</head>
<body>
    <!-- Header/Navigation -->
    <header data-component="Header">
        <nav>
            <div class="logo">
                <i class="fas fa-chart-line"></i>
                <h1>Budget Tracker</h1>
            </div>
            <div class="nav-controls">
                <button id="themeToggle" title="Toggle dark/light mode">
                    <i class="fas fa-moon"></i>
                </button>
                <button id="exportData" title="Export your data">
                    <i class="fas fa-download"></i>
                </button>
                <button id="importData" title="Import data">
                    <i class="fas fa-upload"></i>
                </button>
            </div>
        </nav>
    </header>

    <main>
        <!-- Dashboard Summary -->
        <section class="dashboard" data-component="Dashboard Summary">
            <div class="summary-cards">
                <div class="card total-balance">
                    <h3>Total Balance</h3>
                    <p class="amount" id="totalBalance">$0.00</p>
                    <span class="trend positive"><i class="fas fa-arrow-up"></i> 0%</span>
                </div>
                
                <div class="card total-income">
                    <h3>Total Income</h3>
                    <p class="amount income" id="totalIncome">$0.00</p>
                    <span class="period">This Month</span>
                </div>
                
                <div class="card total-expenses">
                    <h3>Total Expenses</h3>
                    <p class="amount expense" id="totalExpenses">$0.00</p>
                    <span class="period">This Month</span>
                </div>
                
                <div class="card savings">
                    <h3>Savings Rate</h3>
                    <p class="amount" id="savingsRate">0%</p>
                    <span class="trend neutral"><i class="fas fa-minus"></i> 0%</span>
                </div>
            </div>
            
            <div class="date-filter">
                <button id="prevMonth"><i class="fas fa-chevron-left"></i></button>
                <h2 id="currentMonth">January 2024</h2>
                <button id="nextMonth"><i class="fas fa-chevron-right"></i></button>
                <button id="dateRangePicker">
                    <i class="fas fa-calendar-alt"></i> Custom Range
                </button>
            </div>
        </section>

        <div class="main-content">
            <!-- Left Column: Charts & Transactions -->
            <div class="left-column">
                <!-- Data Visualization Charts -->
                <section class="charts" data-component="Charts Visualization">
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3>Income vs Expenses</h3>
                            <select id="chartType">
                                <option value="bar">Bar Chart</option>
                                <option value="line">Line Chart</option>
                                <option value="pie">Pie Chart</option>
                            </select>
                        </div>
                        <div class="chart-wrapper">
                            <svg id="mainChart" width="100%" height="300"></svg>
                        </div>
                        <div class="chart-legend" id="chartLegend">
                            <!-- Will be populated by JS -->
                        </div>
                    </div>
                    
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3>Expense Categories</h3>
                            <select id="timeFrame">
                                <option value="month">This Month</option>
                                <option value="quarter">This Quarter</option>
                                <option value="year">This Year</option>
                            </select>
                        </div>
                        <div class="chart-wrapper">
                            <svg id="categoryChart" width="100%" height="250"></svg>
                        </div>
                    </div>
                </section>

                <!-- Transaction List -->
                <section class="transactions" data-component="Transaction List">
                    <div class="section-header">
                        <h2>Recent Transactions</h2>
                        <div class="transaction-controls">
                            <button id="addTransaction" class="btn-primary">
                                <i class="fas fa-plus"></i> Add Transaction
                            </button>
                            <div class="search-box">
                                <input type="text" id="searchTransactions" placeholder="Search transactions...">
                                <i class="fas fa-search"></i>
                            </div>
                            <select id="sortTransactions">
                                <option value="date-desc">Newest First</option>
                                <option value="date-asc">Oldest First</option>
                                <option value="amount-desc">Highest Amount</option>
                                <option value="amount-asc">Lowest Amount</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="filters">
                        <div class="filter-tags" id="categoryFilters">
                            <!-- Will be populated by JS -->
                        </div>
                        <div class="filter-options">
                            <label>
                                <input type="checkbox" id="filterIncome" checked> Income
                            </label>
                            <label>
                                <input type="checkbox" id="filterExpense" checked> Expense
                            </label>
                            <button id="clearFilters">Clear Filters</button>
                        </div>
                    </div>
                    
                    <table class="transactions-table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Description</th>
                                <th>Category</th>
                                <th>Type</th>
                                <th>Amount</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="transactionsTableBody">
                            <!-- Will be populated by JS -->
                            <tr class="empty-state">
                                <td colspan="6">No transactions found. Add your first transaction!</td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <div class="table-footer">
                        <div class="pagination">
                            <button id="prevPage" disabled><i class="fas fa-chevron-left"></i></button>
                            <span id="currentPage">Page 1</span>
                            <button id="nextPage" disabled><i class="fas fa-chevron-right"></i></button>
                        </div>
                        <div class="summary">
                            Showing <span id="showingCount">0</span> of <span id="totalCount">0</span> transactions
                        </div>
                    </div>
                </section>
            </div>

            <!-- Right Column: Forms & Categories -->
            <div class="right-column">
                <!-- Add Transaction Form -->
                <section class="transaction-form" data-component="Transaction Form">
                    <h3><i class="fas fa-edit"></i> Add/Edit Transaction</h3>
                    
                    <form id="transactionForm">
                        <div class="form-group">
                            <label for="transactionType">Type</label>
                            <div class="type-toggle">
                                <button type="button" class="type-btn income active" data-type="income">
                                    <i class="fas fa-money-bill-wave"></i> Income
                                </button>
                                <button type="button" class="type-btn expense" data-type="expense">
                                    <i class="fas fa-shopping-cart"></i> Expense
                                </button>
                            </div>
                            <input type="hidden" id="transactionType" value="income">
                        </div>
                        
                        <div class="form-group">
                            <label for="transactionAmount">Amount</label>
                            <div class="input-with-icon">
                                <span class="currency">$</span>
                                <input type="number" id="transactionAmount" step="0.01" min="0" placeholder="0.00" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="transactionDescription">Description</label>
                            <input type="text" id="transactionDescription" placeholder="Salary, Groceries, Rent..." required>
                        </div>
                        
                        <div class="form-group">
                            <label for="transactionCategory">Category</label>
                            <div class="select-with-add">
                                <select id="transactionCategory" required>
                                    <option value="">Select a category</option>
                                    <!-- Will be populated by JS -->
                                </select>
                                <button type="button" id="addCategoryBtn" title="Add new category">
                                    <i class="fas fa-plus"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="transactionDate">Date</label>
                            <input type="date" id="transactionDate" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="transactionNotes">Notes (Optional)</label>
                            <textarea id="transactionNotes" rows="3" placeholder="Additional details..."></textarea>
                        </div>
                        
                        <div class="form-buttons">
                            <button type="submit" class="btn-primary" id="saveTransaction">
                                <i class="fas fa-save"></i> Save Transaction
                            </button>
                            <button type="button" class="btn-secondary" id="cancelEdit">
                                Cancel
                            </button>
                            <input type="hidden" id="transactionId" value="">
                        </div>
                    </form>
                </section>

                <!-- Category Management -->
                <section class="categories" data-component="Category Management">
                    <div class="section-header">
                        <h3><i class="fas fa-tags"></i> Categories</h3>
                        <button id="addCategory" class="btn-secondary">
                            <i class="fas fa-plus"></i> Add
                        </button>
                    </div>
                    
                    <div class="categories-list">
                        <div class="category-type">
                            <h4>Income Categories</h4>
                            <ul id="incomeCategories">
                                <!-- Will be populated by JS -->
                                <li class="category-item">
                                    <span class="category-color" style="background-color: #4CAF50;"></span>
                                    <span class="category-name">Salary</span>
                                    <div class="category-actions">
                                        <button class="edit-category" title="Edit"><i class="fas fa-edit"></i></button>
                                        <button class="delete-category" title="Delete"><i class="fas fa-trash"></i></button>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        
                        <div class="category-type">
                            <h4>Expense Categories</h4>
                            <ul id="expenseCategories">
                                <!-- Will be populated by JS -->
                                <li class="category-item">
                                    <span class="category-color" style="background-color: #F44336;"></span>
                                    <span class="category-name">Food & Dining</span>
                                    <div class="category-actions">
                                        <button class="edit-category" title="Edit"><i class="fas fa-edit"></i></button>
                                        <button class="delete-category" title="Delete"><i class="fas fa-trash"></i></button>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                    
                    <!-- Add/Edit Category Modal (hidden by default) -->
                    <div id="categoryModal" class="modal" style="display: none;">
                        <div class="modal-content">
                            <h3 id="modalTitle">Add New Category</h3>
                            <form id="categoryForm">
                                <div class="form-group">
                                    <label for="categoryName">Category Name</label>
                                    <input type="text" id="categoryName" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="categoryType">Category Type</label>
                                    <select id="categoryType" required>
                                        <option value="income">Income</option>
                                        <option value="expense">Expense</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="categoryColor">Color</label>
                                    <input type="color" id="categoryColor" value="#4CAF50">
                                </div>
                                
                                <div class="form-group">
                                    <label for="categoryBudget">Monthly Budget (Optional)</label>
                                    <div class="input-with-icon">
                                        <span class="currency">$</span>
                                        <input type="number" id="categoryBudget" step="0.01" min="0" placeholder="0.00">
                                    </div>
                                </div>
                                
                                <div class="modal-buttons">
                                    <button type="submit" class="btn-primary">Save Category</button>
                                    <button type="button" id="closeCategoryModal" class="btn-secondary">Cancel</button>
                                    <input type="hidden" id="editCategoryId" value="">
                                </div>
                            </form>
                        </div>
                    </div>
                </section>

                <!-- Monthly Reports -->
                <section class="reports" data-component="Monthly Reports">
                    <div class="section-header">
                        <h3><i class="fas fa-chart-pie"></i> Monthly Summary</h3>
                        <button id="generateReport" class="btn-secondary">
                            <i class="fas fa-file-export"></i> Export Report
                        </button>
                    </div>
                    
                    <div class="report-summary">
                        <div class="report-item">
                            <span class="report-label">Top Expense Category</span>
                            <span class="report-value" id="topCategory">-</span>
                        </div>
                        <div class="report-item">
                            <span class="report-label">Average Daily Spend</span>
                            <span class="report-value" id="avgDailySpend">$0.00</span>
                        </div>
                        <div class="report-item">
                            <span class="report-label">Transactions This Month</span>
                            <span class="report-value" id="monthTransactions">0</span>
                        </div>
                        <div class="report-item">
                            <span class="report-label">Largest Transaction</span>
                            <span class="report-value" id="largestTransaction">$0.00</span>
                        </div>
                    </div>
                    
                    <div class="budget-progress">
                        <h4>Budget Progress</h4>
                        <div id="budgetProgressList">
                            <!-- Will be populated by JS -->
                            <div class="progress-item">
                                <div class="progress-header">
                                    <span class="category-name">Food & Dining</span>
                                    <span class="progress-value">$150 / $200</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 75%"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </main>

    <!-- Hidden Import File Input -->
    <input type="file" id="importFile" accept=".json" style="display: none;">

    <!-- Development Notes -->
    <footer data-component="Footer">
        <div class="dev-notes">
            <p><strong>Development Notes:</strong> This is the HTML skeleton. Next steps: 1) Create JS classes for Transaction and Category, 2) Implement localStorage, 3) Add chart rendering, 4) Style with CSS.</p>
            <div class="data-actions">
                <button id="clearAllData" class="btn-danger">
                    <i class="fas fa-trash"></i> Clear All Data (Dev Only)
                </button>
                <button id="loadSampleData" class="btn-secondary">
                    <i class="fas fa-vial"></i> Load Sample Data
                </button>
            </div>
        </div>
    </footer>

    <!-- JavaScript will be added in next step -->
    <script src="budget-tracker.js"></script>
</body>
</html>